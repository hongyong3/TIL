# 20190528

## 1st Job Fair - BigData

### 4강 정규분포



#### 확률과 임의성

- 정규분포는 연속형 분포 가운데 가장 많이 쓰이는 확률분포이다.
- 정규분포는 N(**μ**, **σ**^2)라고 많이 표현되며, 이는 모평균 **μ**와 표준편차 **σ**의 모수로 특정지어 진다.
  - **μ**는 분포의 가운데이며 분포의 위치를 나타내고 **σ**는 분포의 퍼짐 정도를 나타낸다.
  - **σ**에 대칭인 종 모양의 분포로서 **μ** ± **σ**에서 볼록성(볼록/오목)이 바뀜
- **σ**가 작은 모집단의 분포는 평균 주위에 가깝게 몰려있게 되고 **σ**가 큰 모집단의 분포는 넓게 퍼져있는 형태를 취한다.
- `표준정규분포(standard normal distribution)`는 **μ** = 0 이고 **σ** = 1 인 정규분포이다.



#### 정규분포의 형태

<img width="737" alt="1" src="https://user-images.githubusercontent.com/45934494/58428020-462c9c80-80dc-11e9-9f7a-f343d324b73b.PNG">

<img width="713" alt="2" src="https://user-images.githubusercontent.com/45934494/58428021-46c53300-80dc-11e9-892a-9e261c036a17.PNG">



#### 68-95-99.7 Rule

<img width="672" alt="3" src="https://user-images.githubusercontent.com/45934494/58428204-b5a28c00-80dc-11e9-9e28-bac9d18c60d5.PNG">

##### 68-95-99.7법칙

- 평균에서 ± **σ**에 정규분포가 들어올 확률이 68%
- 평균에서 ± **2σ**에 정규분포가 들어올 확률이 95% 
- 평균에서 ± **3σ**에 정규분포가 들어올 확률이 99.7% 



#### 정규분포의 표준화

- 모든 정규분포는 같은 형태적 성질을 갖기 때문에 N(**m**, **s**^2)를 표준화해 표준정규분포 N(0, 1)를 얻을 수

  있고, 표준화 후 N(0, 1)의 확률표를 이용해 확률계산을 할 수 있다.

- 표준화된 자료는 z-score라고 불린다.



------

### 5강 표본분포와 중심극한정리



#### 모집단과 표본

##### `모집단(population)`

- 어떤 연구에서 실제 관심 있는 집단으로 흔히 전체를 모두 연구하기 어려움
  - 예 ) 모든 인간, 전국의 모든 근로자, 전국의 모든 유권자 ...



##### `표본(sample)`

- 모집단의 일부분으로서 실제로 연구자가 자료를 수집하여 연구하는 부분
- 표본추출이 잘 되어야 연구전체가 의미 있어짐



##### `모수(parameter)`

- 모집단의 특성을 나타내는 숫자
- 미지의 고정된 상수



##### `통계량(statistic)`

- 표본의 특성을 나타내는 숫자
- 표본에 따라 다른 값을 갖는 확률변수
- 모수를 추정하는데 사용됨



#### 표본분포(Sampling distribution)

##### 통계량의 표본분포

- 확률변수인 `통계량의 확률분포`를 말함

- 모집단에서 표본의 크기가 n(정해진 숫자)인 모든 표본이 뽑혔다고 가정했을 때,

  각 표본에서 계산된 통계량이 가지는 값들의 분포를 말함

- 이론적인 분포이고, 실제 관측하는 분포는 아님



##### 표본평균(**x̅**)의 분포

- 평균이 **μ**이고 표준편차가 **σ**인 모집단에서 표본크기 n인 표본을 많이 추출했다고 가장하면

- 이 때, 어떤 표본에서의 평균은 **μ**보다 크고, 

  어떤 표본에서의 평균은 **μ**보다 작아지면서 표본분포가 생성될 것이다.



##### 모집단의 평균이 **μ**이고 표준편차가 **σ**일 때 :

- 표본평균의 평균은 모집단의 평균과 같다.

- 표본평균의 표준편차는 모집단의 표준편차보다 작으며

  표본의 크기가 증감함에 따라 1/ n^(1/2)의 비율로 줄어든다.



#### 정규분포에서의 표본분포

- 모집단이 정규분포를 따르면, 모든 표본 크기 n에 대해, 표본평균의 표본분포(sampling distribution)는

  정균분포를 따른다.

- 모집단의 분포가 N(**μ**, **σ**^2)를 따르면, 표본평균의 분포는 N(**μ**, **σ**^2/n)을 따른다.



#### 중심극한정리(The central limit theorem)

- 평균이 **μ**이고 표준편차가 **σ**인 모집단에서 임의표본을 뽑을때, 표본의 크기 n이 크면 표본평균의 표본분포는 근사적으로 정규분포를 따르며, 그 평균은 **μ**이고, 표준편차는 `σ/n^(1/2)`이다.



#### 표본의 크기는 얼마나 커야 하는가?

- 필요한 표본의 크기는 모집단의 형태에 따라 다름

- 모집단의 정규분포와 많이 다를수록 표본의 크기는 더 많이 필요함

  - 모집단의 분포가 한 쪽으로 치우쳐 있고 약한 특이치들이 존재하는 경우 25개 정도의 표본이 있으면 

    표본분포의 정규성을 가정할 수 있다.

  - 모집단의 분포가 매우 치우쳐 있고 심한 특이치들이 존재하는 경우에도 40개 정도의 표본이 있으면 

    표본분포의 정규성은 어느 정도 만족된다.

  - 많은 경우 n = 25 ~ 40는 아주 큰 표본의 크기가 아니므로 대부분의 경우 표본평균의 분포를 생각할 때

    정규분포를 가정해도 큰 무리가 없다.



------

### 6강 통계적 추론



#### 통계적 추론(Statistical Inference)

![1](https://user-images.githubusercontent.com/45934494/58451304-de169e80-814d-11e9-9a8e-8452f19158b6.PNG)



#### 통계적 추정(Statistical Estimation)

* 표본의 정보를 이용하여 실제로 관찰되지 않은 부분을 포함한 모집단 전체에 대한 추측

![2](https://user-images.githubusercontent.com/45934494/58451430-66953f00-814e-11e9-90d9-5d7b0cb47cec.PNG)

* `점추정(Point Estimation)`
  * 하나의 값으로 모수를 추정
* `구간추정(Interval Estimation)`
  * 모수가 속하리라고 생각되는 적절한 구간을 설정하여 추정



#### 점추정(Point Estimation)

* 모평균을 추정하기 위해서 가장 많이 사용되는 통계량 = 표본평균

* 모분산을 추정하는데 가장 많이 사용되는 통계량 = 표본분산

* 두 통계량의 특징

  * 불편추정량(unbiased estimator)

* 표본평균으로 모평균을 추정할 때 이 추정치를 얼마나 신뢰할 수 있을까?

* 특정한 표본에서 표본평균은 하나의 숫자로 계산되지만 다른 표본을 뽑아서 표본평균을 구하면 다른 숫자가

  나오게 될 것이다. 실제로, 표본평균은 많은 다른 값을 취할 수 있고, 모집단의 평균 **μ**와 정확히 같은 표본평균은 거의 찾아볼 수 없을 것이다. 그렇다면 왜 표본평균으로 모평균을 추정하는가?

* 표본의 크기가 커질수록 표본평균의 분포는 점점 **μ**주변으로 집중되고 n이 클 때 표본평균은 모평균에 가까이 있다고 할 수 있을것이다.



#### 구간추정(신뢰구간, Confidence interval)

* 중심극한정리에 의해, 표본평균의 95% 정도가 모평균으로부터 2 표준편차 이상 떨어져 있지 않다.
* 즉, 매우 많은 표본을 뽑아서 각각에 대해 표본평균을 계산했을 때, 그 가운데 95% 정도의 표본평균이 모평균에서 2(또는 1.96) 표준편차 이상 떨어져 있지 않는다는 말이 된다.
* 모평균의 95% 신뢰구간
  * (**x̅** - 1.96 σ / n^(1/2),   **x̅** + 1.96 σ / n^(1/2) )



#### 신뢰수준 C인 신뢰구간

* 신뢰수준이 C인 신뢰구간 = 표본의 100*C%에서 모평균을 포함하게 되는 신뢰구간

  신뢰수준 C(100*C%)인 신뢰구간

  * **x̅** ± Z * σ / n^(1/2)

* `Z*값 찾기`

  * z* 값은 신뢰수준 C와 관계 있다.

  * C는 정규분포 곡선에서 -Z* and Z*사이의 면적이다.

  * C = 1 - a 라 하면, Z*는 정규분포에서 상위 a / 2 critical value다.

    ((1 - a  / 2)* 100백분위수)

  * 보통 정규확률표나 software로 찾는다.



#### 표본크기의 결정

* 어떤 연구에서(신약의 연구, 제조공정 등) 특정한 신뢰도와 신뢰구간의 길이가 필요하다고 가정하자. 

  많은 경우 모집단의 표준편차는 σ로 고정되어 있으므로, 표본의 크기를 조절하여 원하는 신뢰도와 

  신뢰구간의 길이를 얻어야 한다.

* 물론, 표본크기를 언제나 원하는 만큼 잡을 수 있는 것은 아니고 비용이나 다른 제약조건을 고려해야 하는

  경우가 많다. 적절한 결과를 얻을 수 있는 가장 작은 표본크기를 결정하는 것이 좋다.



#### 모분산을 모를 때

* 표본표준편차 s로 모표준편차 σ를 추정하여 사용한다.

* 표본의 크기가 크면 표본은 모집단의 형태와 많이 비슷해질 것이고 (좋은 표본이라는 가정하에)

  이 때는 s가 σ의 좋은 추정치가 될 것이다.

* 표본의 크기가 작으면 s의 값이 σ와 많이 다를 수도 있다.



#### t분포

* 평균이 **μ**이고 표준편차가 **σ**인 정규분포에서 크기가 n인 랜덤표본을 뽑을 때,

  * 표준편차가 알려져 있으면, 표본평균의 분포는 N(m, s2/n)

  * 표준편차가 알려져 있지 않으면, 표본평균의 분포는 자유도가 n - 1인 t분포를 따른다.

    즉, 다음의 t 통계량의 분포는 자유도가 n - 1인 t분포를 따른다.

![3](https://user-images.githubusercontent.com/45934494/58452305-d953e980-8151-11e9-92e6-7945a97b1eac.PNG)

* n이 크면, s가 **σ**의 좋은 추정치가 되므로, t분포는 정규분포와 매우 비슷한 분포가 된다. 자유도가 줄어들수록

  t분포의 분산은 늘어나는데, 이것은 s로 **σ**를 추정하는 추정의 precision이 떨어짐을 나타낸다고 할 수 있다.



#### 일표본 t-신뢰구간

* 신뢰구간이 C인 신뢰구간 = 표본의 100*C%에서 모평균을 포함하게 되는 신뢰구간

* 모평균 뿐 아니라 모표준편차도 모르므로, **x̅**로 **μ**를 추정하고 s로 **σ**를 추정하며, 자유도 n-1인 t분포를 사용

  신뢰수준 C(100*C%)인 신뢰구간

  * **x̅** ± t * s / n^(1/2)

* `t*값 찾기`

  * C는 t(n-1)분포곡선에서 `-t*와 t*사이의 면적`이다.
  * C = 1 - a라 하면, t*는 t(n-1)분포에서 상위 a/2 critical value
  * 보통 t critical value table이나 software로 찾는다.

